# RAGFlow Service Configuration Template
# =======================================
# Environment variables are substituted at container startup.
# Based on: https://ragflow.io/docs/dev/configurations

ragflow:
  host: ${RAGFLOW_HOST:-0.0.0.0}
  http_port: 9380

admin:
  host: ${RAGFLOW_HOST:-0.0.0.0}
  http_port: 9381

mysql:
  name: '${MYSQL_DBNAME:-rag_flow}'
  user: '${MYSQL_USER:-rag_flow}'
  password: '${MYSQL_PASSWORD}'
  host: '${MYSQL_HOST:-mysql}'
  port: 3306
  max_connections: 900
  stale_timeout: 300
  max_allowed_packet: ${MYSQL_MAX_PACKET:-1073741824}

minio:
  user: '${MINIO_USER:-minioadmin}'
  password: '${MINIO_PASSWORD}'
  host: '${MINIO_HOST:-minio:9000}'

es:
  hosts: 'http://${ES_HOST:-es01}:9200'
  username: ''
  password: ''

redis:
  db: 1
  password: '${REDIS_PASSWORD}'
  host: '${REDIS_HOST:-redis:6379}'

# Default LLM for new users (OpenRouter)
user_default_llm:
  factory: 'OpenAI'
  api_key: '${OPENROUTER_API_KEY}'
  base_url: '${OPENROUTER_BASE_URL:-https://openrouter.ai/api/v1}'

# Allowed LLM factories
allowed_factories:
  - 'OpenAI'
  - 'DeepSeek'
  - 'Moonshot'
  - 'ZHIPU-AI'
