================================================================================
  FLAGPILOT LIVE INTEGRATION TEST - v7.0 (Qdrant + MinIO)
  Started: 2025-12-28T10:14:39.133760
================================================================================


================================================================================
  TEST SUITE COMPLETED: 2025-12-28T10:14:39.135841
================================================================================
[10:14:39.153] [--] 
[10:14:39.154] [--] ################################################################################
[10:14:39.156] [--] #                          TEST 1: ENVIRONMENT CHECK                           #
[10:14:39.157] [--] ################################################################################
[10:14:39.159] [--] 
[10:14:39.198] [--] OpenRouter Model: kwaipilot/kat-coder-pro:free
[10:14:39.200] [--] OpenRouter Base URL: https://openrouter.ai/api/v1
[10:14:39.202] [--] Qdrant: qdrant:6333
[10:14:39.203] [--] MinIO: minio:9000
[10:14:39.205] [--] ES: es01:9200
[10:14:39.206] [--]   openrouter_api_key: ‚úÖ SET
[10:14:39.207] [--]   openrouter_model: ‚úÖ SET
[10:14:39.208] [--]   openrouter_base_url: ‚úÖ SET
[10:14:39.209] [--]   qdrant_host: ‚úÖ SET
[10:14:39.210] [--]   qdrant_port: ‚úÖ SET
[10:14:39.211] [--]   minio_endpoint: ‚úÖ SET
[10:14:39.213] [--]   es_host: ‚úÖ SET
[10:14:39.214] [--]   es_port: ‚úÖ SET
[10:14:39.215] [??] LangSmith: Not configured
[10:14:39.216] [OK] Environment check PASSED
[10:14:39.220] [--] 
[10:14:39.222] [--] ################################################################################
[10:14:39.223] [--] #                         TEST 2: QDRANT HEALTH CHECK                          #
[10:14:39.223] [--] ################################################################################
[10:14:39.224] [--] 
[10:14:40.860] [--] Checking Qdrant health...
[10:14:42.339] [..] Qdrant Status:
[10:14:42.342] [..]   {
[10:14:42.344] [..]     "status": "healthy",
[10:14:42.346] [..]     "connected": true,
[10:14:42.348] [..]     "collection": "flagpilot_documents",
[10:14:42.349] [..]     "vectors_count": 0
[10:14:42.350] [..]   }
[10:14:42.352] [OK] Qdrant health check PASSED
[10:14:42.356] [--] 
[10:14:42.357] [--] ################################################################################
[10:14:42.358] [--] #                      TEST 3: LANGCHAIN LLM HEALTH CHECK                      #
[10:14:42.359] [--] ################################################################################
[10:14:42.360] [--] 
[10:14:42.419] [--] Model: kwaipilot/kat-coder-pro:free
[10:14:42.421] [--] Sending test prompt...
[10:14:44.387] [--] Response: Hello! I'm working and ready to help you....
[10:14:44.390] [--] Latency: 1.97s
[10:14:44.392] [OK] LangChain LLM health check PASSED
[10:14:44.398] [--] 
[10:14:44.399] [--] ################################################################################
[10:14:44.401] [--] #                      TEST 4: ELASTICSEARCH HEALTH CHECK                      #
[10:14:44.402] [--] ################################################################################
[10:14:44.404] [--] 
[10:14:44.693] [--] ES Version: 9.2.3
[10:14:44.695] [--] Cluster: flagpilot-cluster
[10:14:44.697] [OK] Elasticsearch health check PASSED
[10:14:44.701] [--] 
[10:14:44.703] [--] ################################################################################
[10:14:44.704] [--] #                          TEST 5: LANGSMITH TRACING                           #
[10:14:44.705] [--] ################################################################################
[10:14:44.706] [--] 
[10:14:44.707] [--] LangSmith not configured - tracing disabled (OK for local dev)
[10:14:44.708] [OK] LangSmith tracing check PASSED
[10:14:44.712] [--] 
[10:14:44.713] [--] ################################################################################
[10:14:44.714] [--] #                      TEST 6: MINIO STORAGE HEALTH CHECK                      #
[10:14:44.715] [--] ################################################################################
[10:14:44.716] [--] 
[10:14:44.846] [--] Checking MinIO health...
[10:14:44.855] [--] MinIO connected, 5 files in bucket
[10:14:44.857] [OK] MinIO health check PASSED
[10:14:44.862] [--] 
[10:14:44.863] [--] ################################################################################
[10:14:44.865] [--] #                            TEST 7: AGENT REGISTRY                            #
[10:14:44.866] [--] ################################################################################
[10:14:44.868] [--] 
[10:14:45.061] [--] Registered Agents: 10
[10:14:45.062] [OK]   ‚úÖ contract-guardian
[10:14:45.064] [OK]   ‚úÖ job-authenticator
[10:14:45.065] [OK]   ‚úÖ scope-sentinel
[10:14:45.066] [OK]   ‚úÖ payment-enforcer
[10:14:45.068] [OK]   ‚úÖ dispute-mediator
[10:14:45.069] [OK]   ‚úÖ communication-coach
[10:14:45.070] [OK]   ‚úÖ negotiation-assistant
[10:14:45.071] [OK]   ‚úÖ profile-analyzer
[10:14:45.072] [OK]   ‚úÖ ghosting-shield
[10:14:45.074] [OK]   ‚úÖ risk-advisor
[10:14:45.075] [OK] Agent registry check PASSED
[10:14:45.079] [--] 
[10:14:45.080] [--] ################################################################################
[10:14:45.082] [--] #                       TEST 8: FAST-FAIL SCAM DETECTION                       #
[10:14:45.083] [--] ################################################################################
[10:14:45.084] [--] 
[10:14:45.085] [--] Testing message: Congratulations! You've won $50,000! Send $500 to ...
[10:14:48.642] [--] Agents selected: ['risk-advisor']
[10:14:48.644] [--] Urgency: high
[10:14:48.646] [--] Reasoning: This is a classic advance-fee scam. The user needs immediate scam detection and warning....
[10:14:48.648] [OK] ‚úÖ Scam correctly routed to risk detection
[10:14:48.650] [OK] Fast-fail scam detection PASSED
[10:14:48.655] [--] 
[10:14:48.657] [--] ################################################################################
[10:14:48.659] [--] #                         TEST 9: ORCHESTRATOR ROUTING                         #
[10:14:48.661] [--] ################################################################################
[10:14:48.663] [--] 
[10:14:48.664] [--] 
----- Query: Please review my freelance contract for ... --------------------
[10:14:55.484] [--] Selected: ['contract-guardian']
[10:14:55.486] [--] Reasoning: Contract review is the primary function of the con...
[10:14:55.488] [OK] ‚úÖ Correct routing
[10:14:55.489] [--] 
----- Query: Is this job posting a scam?... ---------------------------------
[10:14:57.182] [--] Selected: ['job-authenticator', 'risk-advisor']
[10:14:57.185] [--] Reasoning: Job posting verification requires checking for sca...
[10:14:57.186] [OK] ‚úÖ Correct routing
[10:14:57.188] [--] 
----- Query: Client keeps adding extra features witho... --------------------
[10:14:59.398] [--] Selected: ['scope-sentinel', 'payment-enforcer', 'negotiation-assistant']
[10:14:59.401] [--] Reasoning: Scope creep detection and boundary protection need...
[10:14:59.404] [OK] ‚úÖ Correct routing
[10:14:59.405] [--] 
----- Query: Help me negotiate a better rate... -----------------------------
[10:15:00.813] [--] Selected: ['negotiation-assistant']
[10:15:00.815] [--] Reasoning: User needs help with rate negotiation...
[10:15:00.817] [OK] ‚úÖ Correct routing
[10:15:00.819] [--] Routing Score: 4/4
[10:15:00.820] [OK] Orchestrator routing validated
[10:15:00.824] [--] 
[10:15:00.826] [--] ################################################################################
[10:15:00.827] [--] #                       TEST 10: QDRANT INGEST & SEARCH                        #
[10:15:00.828] [--] ################################################################################
[10:15:00.829] [--] 
[10:15:00.862] [--] 
----- STEP 1: INGEST TEST DOCUMENT ------------------------------------------
[10:15:01.757] [--] Ingested 1 chunks
[10:15:01.758] [--] 
----- STEP 2: SEARCH TEST ---------------------------------------------------
[10:15:02.354] [--] Found 3 relevant documents
[10:15:02.356] [..]   [1] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[10:15:02.357] [..]   [2] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[10:15:02.359] [..]   [3] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[10:15:02.360] [OK] Qdrant ingest & search PASSED
[10:15:02.364] [--] 
[10:15:02.366] [--] ################################################################################
[10:15:02.367] [--] #                        TEST 11: MINIO FILE OPERATIONS                        #
[10:15:02.368] [--] ################################################################################
[10:15:02.369] [--] 
[10:15:02.370] [--] 
----- STEP 1: UPLOAD TEST FILE ----------------------------------------------
[10:15:02.378] [--] Uploaded: test_user_minio/20251228_101502_83e2e2d3.txt
[10:15:02.380] [--] Size: 51 bytes
[10:15:02.381] [--] 
----- STEP 2: DOWNLOAD TEST -------------------------------------------------
[10:15:02.384] [OK] MinIO file operations PASSED
[10:15:02.388] [--] 
[10:15:02.390] [--] ################################################################################
[10:15:02.391] [--] #                       TEST 12: USER PROFILE OPERATIONS                       #
[10:15:02.392] [--] ################################################################################
[10:15:02.394] [--] 
[10:15:02.419] [--] 
----- CREATE PROFILE --------------------------------------------------------
[10:15:02.628] [--] Created profile for live_test_user_1766916902
[10:15:03.007] [--] Workflow completed in 25.36s
[10:15:03.009] [--] Response length: 3178 chars
[10:15:03.010] [--] Agents used: []
[10:15:03.011] [OK] End-to-end workflow PASSED
[10:15:03.017] [--] 
[10:15:03.019] [--] ################################################################################
[10:15:03.020] [--] #                     TEST 22: COPILOTKIT API INTEGRATION                      #
[10:15:03.021] [--] ################################################################################
[10:15:03.022] [--] 
[10:15:03.059] [--] API Version: 7.0.0
[10:15:03.060] [--] Architecture: LangGraph + CopilotKit + Qdrant + PostgreSQL
[10:15:03.061] [--] Agents: 14
[10:15:03.063] [--] CopilotKit endpoint: /copilotkit
[10:15:03.064] [OK] CopilotKit integration PASSED
[10:15:03.633] [--] 
----- READ PROFILE ----------------------------------------------------------
[10:15:03.657] [--] Retrieved: Test Freelancer with Python, AI/ML, and LangChain ...
[10:15:03.659] [OK] User profile operations PASSED
[10:15:03.665] [--] 
[10:15:03.666] [--] ################################################################################
[10:15:03.668] [--] #                       TEST 13: CHAT HISTORY OPERATIONS                       #
[10:15:03.669] [--] ################################################################################
[10:15:03.671] [--] 
[10:15:03.683] [--] 
----- SAVE MESSAGES ---------------------------------------------------------
[10:15:03.725] [--] Saved 2 messages
[10:15:04.731] [--] 
----- RETRIEVE HISTORY ------------------------------------------------------
[10:15:04.740] [--] Retrieved 2 messages
[10:15:04.742] [OK] Chat history operations PASSED
[10:15:04.748] [--] 
[10:15:04.751] [--] ################################################################################
[10:15:04.753] [--] #                      TEST 14: GLOBAL WISDOM OPERATIONS                       #
[10:15:04.755] [--] ################################################################################
[10:15:04.757] [--] 
[10:15:04.769] [--] 
----- INDEX WISDOM ----------------------------------------------------------
[10:15:04.795] [--] Indexed: Handling Scope Creep
[10:15:05.800] [--] 
----- SEARCH WISDOM ---------------------------------------------------------
[10:15:05.808] [--] Found 3 wisdom entries
[10:15:05.811] [OK] Global wisdom operations PASSED
[10:15:05.817] [--] 
[10:15:05.819] [--] ################################################################################
[10:15:05.820] [--] #                         TEST 15: EXPERIENCE GALLERY                          #
[10:15:05.821] [--] ################################################################################
[10:15:05.822] [--] 
[10:15:05.833] [--] 
----- ADD EXPERIENCE --------------------------------------------------------
[10:15:05.952] [--] Added experience: AI Integration Project
[10:15:06.968] [--] Found 3 similar experiences
[10:15:06.970] [OK] Experience gallery PASSED
[10:15:06.977] [--] 
[10:15:06.978] [--] ################################################################################
[10:15:06.980] [--] #                       TEST 16: SCAM DETECTION SCENARIO                       #
[10:15:06.981] [--] ################################################################################
[10:15:06.983] [--] 
[10:15:06.985] [--] Testing scam job posting...
[10:15:12.871] [--] Response preview: # üö® CRITICAL RISK DETECTED

## Risk Advisor

## üö® CRITICAL RISK ALERT

### What We Detected
**Advance-fee scam** - Request for upfront payment to access a fake high-paying work-from-home opportunity

...
[10:15:12.874] [OK] ‚úÖ Scam indicators detected
[10:15:12.876] [OK] Scam detection scenario PASSED
[10:15:12.884] [--] 
[10:15:12.886] [--] ################################################################################
[10:15:12.888] [--] #                      TEST 17: CONTRACT ANALYSIS QUALITY                      #
[10:15:12.889] [--] ################################################################################
[10:15:12.890] [--] 
[10:15:12.891] [--] Testing contract with unfair clauses...
[10:15:24.789] [--] Response preview: # üö® CRITICAL RISK DETECTED

## Contract Guardian

## üîç Contract Analysis

### Risk Summary
This termination clause is extremely one-sided and financially dangerous for the contractor.

### Findings
| Clause | Risk Level | Issue | Recommendation |
|--------|------------|-------|----------------|
| Te...
[10:15:24.790] [OK] ‚úÖ Contract issues identified
[10:15:24.792] [OK] Contract analysis PASSED
[10:15:24.797] [--] 
[10:15:24.799] [--] ################################################################################
[10:15:24.800] [--] #                        TEST 18: SCOPE CREEP DETECTION                        #
[10:15:24.801] [--] ################################################################################
[10:15:24.802] [--] 
[10:15:24.803] [--] Testing scope creep scenario...
[10:15:55.432] [--] Response preview: # üö® Scope Creep Analysis: $500 Landing Page to $20,000 E-commerce Project

## Summary of Key Findings

Your client is attempting **massive scope creep** - trying to get a $12,000-20,000 enterprise solution for the original $500 landing page price. This represents a **3,900% scope increase** with zer...
[10:15:55.435] [OK] ‚úÖ Scope creep addressed
[10:15:55.437] [OK] Scope creep detection PASSED
[10:15:55.444] [--] 
[10:15:55.446] [--] ################################################################################
[10:15:55.448] [--] #                         TEST 19: GHOSTING PREVENTION                         #
[10:15:55.449] [--] ################################################################################
[10:15:55.451] [--] 
[10:15:55.452] [--] Testing ghosting prevention scenario...
[10:16:37.994] [--] Response preview: # Client Payment Recovery Strategy

## Summary
Your client has been unresponsive for 14 days while you have completed 80% of the project and are owed your second milestone payment. This situation requires immediate action to recover payment and determine next steps.

## Key Findings
- **Payment Stat...
[10:16:37.996] [OK] ‚úÖ Ghosting advice provided
[10:16:37.999] [OK] Ghosting prevention PASSED
[10:16:38.006] [--] 
[10:16:38.008] [--] ################################################################################
[10:16:38.010] [--] #                  TEST 20: CONTRACT NEGOTIATION WITH MEMORY                   #
[10:16:38.011] [--] ################################################################################
[10:16:38.013] [--] 
[10:16:38.015] [--] 
----- NEGOTIATION REQUEST ---------------------------------------------------
[10:16:59.075] [--] Response preview: # Negotiation Response: $50/hr Offer vs $150/hr Rate

## Summary

A client has offered $50/hour for a Python/AI project, significantly below your standard $150/hour rate (67% lower). The negotiation analysis indicates this is well below market rates for senior Python/AI specialists and recommends a ...
[10:16:59.077] [OK] ‚úÖ Negotiation strategy provided
[10:16:59.079] [OK] Contract negotiation PASSED
[10:16:59.084] [--] 
[10:16:59.086] [--] ################################################################################
[10:16:59.087] [--] #                         TEST 21: END-TO-END WORKFLOW                         #
[10:16:59.088] [--] ################################################################################
[10:16:59.089] [--] 
[10:16:59.090] [--] Running full workflow...
[10:17:25.453] [--] Workflow completed in 26.36s
[10:17:25.454] [--] Response length: 3726 chars
[10:17:25.455] [--] Agents used: []
[10:17:25.456] [OK] End-to-end workflow PASSED
[10:17:25.461] [--] 
[10:17:25.463] [--] ################################################################################
[10:17:25.464] [--] #                     TEST 22: COPILOTKIT API INTEGRATION                      #
[10:17:25.465] [--] ################################################################################
[10:17:25.466] [--] 
[10:17:25.498] [--] API Version: 7.0.0
[10:17:25.500] [--] Architecture: LangGraph + CopilotKit + Qdrant + PostgreSQL
[10:17:25.501] [--] Agents: 14
[10:17:25.503] [--] CopilotKit endpoint: /copilotkit
[10:17:25.504] [OK] CopilotKit integration PASSED
