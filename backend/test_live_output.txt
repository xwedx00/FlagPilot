================================================================================
  FLAGPILOT LIVE INTEGRATION TEST - v7.0 (Qdrant + MinIO)
  Started: 2025-12-28T09:29:36.949564
================================================================================


================================================================================
  TEST SUITE COMPLETED: 2025-12-28T09:29:36.952131
================================================================================
[09:29:36.970] [--] 
[09:29:36.972] [--] ################################################################################
[09:29:36.973] [--] #                          TEST 1: ENVIRONMENT CHECK                           #
[09:29:36.975] [--] ################################################################################
[09:29:36.976] [--] 
[09:29:37.023] [--] OpenRouter Model: kwaipilot/kat-coder-pro:free
[09:29:37.025] [--] OpenRouter Base URL: https://openrouter.ai/api/v1
[09:29:37.027] [--] Qdrant: qdrant:6333
[09:29:37.028] [--] MinIO: minio:9000
[09:29:37.029] [--] ES: es01:9200
[09:29:37.030] [--]   openrouter_api_key: ✅ SET
[09:29:37.032] [--]   openrouter_model: ✅ SET
[09:29:37.034] [--]   openrouter_base_url: ✅ SET
[09:29:37.035] [--]   qdrant_host: ✅ SET
[09:29:37.037] [--]   qdrant_port: ✅ SET
[09:29:37.039] [--]   minio_endpoint: ✅ SET
[09:29:37.040] [--]   es_host: ✅ SET
[09:29:37.042] [--]   es_port: ✅ SET
[09:29:37.044] [??] LangSmith: Not configured
[09:29:37.046] [OK] Environment check PASSED
[09:29:37.053] [--] 
[09:29:37.055] [--] ################################################################################
[09:29:37.057] [--] #                         TEST 2: QDRANT HEALTH CHECK                          #
[09:29:37.059] [--] ################################################################################
[09:29:37.061] [--] 
[09:29:38.698] [--] Checking Qdrant health...
[09:29:40.642] [..] Qdrant Status:
[09:29:40.644] [..]   {
[09:29:40.645] [..]     "status": "healthy",
[09:29:40.647] [..]     "connected": true,
[09:29:40.649] [..]     "collection": null,
[09:29:40.651] [..]     "vectors_count": 0
[09:29:40.653] [..]   }
[09:29:40.654] [OK] Qdrant health check PASSED
[09:29:40.660] [--] 
[09:29:40.664] [--] ################################################################################
[09:29:40.665] [--] #                      TEST 3: LANGCHAIN LLM HEALTH CHECK                      #
[09:29:40.667] [--] ################################################################################
[09:29:40.668] [--] 
[09:29:40.736] [--] Model: kwaipilot/kat-coder-pro:free
[09:29:40.738] [--] Sending test prompt...
[09:29:43.164] [--] Response: Hello! I'm working and ready to help you....
[09:29:43.166] [--] Latency: 2.42s
[09:29:43.168] [OK] LangChain LLM health check PASSED
[09:29:43.175] [--] 
[09:29:43.177] [--] ################################################################################
[09:29:43.179] [--] #                      TEST 4: ELASTICSEARCH HEALTH CHECK                      #
[09:29:43.180] [--] ################################################################################
[09:29:43.182] [--] 
[09:29:43.539] [--] ES Version: 9.2.3
[09:29:43.541] [--] Cluster: flagpilot-cluster
[09:29:43.543] [OK] Elasticsearch health check PASSED
[09:29:43.548] [--] 
[09:29:43.550] [--] ################################################################################
[09:29:43.552] [--] #                          TEST 5: LANGSMITH TRACING                           #
[09:29:43.554] [--] ################################################################################
[09:29:43.555] [--] 
[09:29:43.557] [??] LangSmith not configured - tracing disabled
[09:29:43.564] [--] 
[09:29:43.566] [--] ################################################################################
[09:29:43.567] [--] #                      TEST 6: MINIO STORAGE HEALTH CHECK                      #
[09:29:43.568] [--] ################################################################################
[09:29:43.570] [--] 
[09:29:43.714] [--] Checking MinIO health...
[09:29:43.729] [--] MinIO connected, 1 files in bucket
[09:29:43.731] [OK] MinIO health check PASSED
[09:29:43.735] [--] 
[09:29:43.737] [--] ################################################################################
[09:29:43.739] [--] #                            TEST 7: AGENT REGISTRY                            #
[09:29:43.741] [--] ################################################################################
[09:29:43.742] [--] 
[09:29:43.945] [--] Registered Agents: 10
[09:29:43.946] [OK]   ✅ contract-guardian
[09:29:43.947] [OK]   ✅ job-authenticator
[09:29:43.948] [OK]   ✅ scope-sentinel
[09:29:43.949] [OK]   ✅ payment-enforcer
[09:29:43.949] [OK]   ✅ dispute-mediator
[09:29:43.950] [OK]   ✅ communication-coach
[09:29:43.951] [OK]   ✅ negotiation-assistant
[09:29:43.952] [OK]   ✅ profile-analyzer
[09:29:43.953] [OK]   ✅ ghosting-shield
[09:29:43.954] [OK]   ✅ risk-advisor
[09:29:43.955] [OK] Agent registry check PASSED
[09:29:43.959] [--] 
[09:29:43.960] [--] ################################################################################
[09:29:43.961] [--] #                       TEST 8: FAST-FAIL SCAM DETECTION                       #
[09:29:43.962] [--] ################################################################################
[09:29:43.963] [--] 
[09:29:43.964] [--] Testing message: Congratulations! You've won $50,000! Send $500 to ...
[09:29:47.041] [--] Agents selected: ['risk-advisor']
[09:29:47.043] [--] Urgency: high
[09:29:47.045] [--] Reasoning: This is a classic advance fee scam - user is being asked to pay money to receive a non-existent priz...
[09:29:47.046] [OK] ✅ Scam correctly routed to risk detection
[09:29:47.048] [OK] Fast-fail scam detection PASSED
[09:29:47.053] [--] 
[09:29:47.054] [--] ################################################################################
[09:29:47.055] [--] #                         TEST 9: ORCHESTRATOR ROUTING                         #
[09:29:47.056] [--] ################################################################################
[09:29:47.057] [--] 
[09:29:47.059] [--] 
----- Query: Please review my freelance contract for ... --------------------
[09:29:52.138] [--] Selected: ['contract-guardian']
[09:29:52.140] [--] Reasoning: The user is requesting a freelance contract review...
[09:29:52.142] [OK] ✅ Correct routing
[09:29:52.144] [--] 
----- Query: Is this job posting a scam?... ---------------------------------
[09:29:54.209] [--] Selected: ['job-authenticator', 'risk-advisor']
[09:29:54.211] [--] Reasoning: Job posting verification requires checking for sca...
[09:29:54.213] [OK] ✅ Correct routing
[09:29:54.215] [--] 
----- Query: Client keeps adding extra features witho... --------------------
[09:29:56.000] [--] Selected: ['scope-sentinel', 'payment-enforcer', 'negotiation-assistant']
[09:29:56.002] [--] Reasoning: Scope creep detection needed to identify unauthori...
[09:29:56.004] [OK] ✅ Correct routing
[09:29:56.006] [--] 
----- Query: Help me negotiate a better rate... -----------------------------
[09:30:01.281] [--] Selected: ['negotiation-assistant']
[09:30:01.283] [--] Reasoning: User needs help with rate negotiation...
[09:30:01.286] [OK] ✅ Correct routing
[09:30:01.288] [--] Routing Score: 4/4
[09:30:01.290] [OK] Orchestrator routing validated
[09:30:01.294] [--] 
[09:30:01.296] [--] ################################################################################
[09:30:01.297] [--] #                       TEST 10: QDRANT INGEST & SEARCH                        #
[09:30:01.299] [--] ################################################################################
[09:30:01.300] [--] 
[09:30:01.333] [--] 
----- STEP 1: INGEST TEST DOCUMENT ------------------------------------------
[09:30:02.626] [--] Ingested 1 chunks
[09:30:02.629] [--] 
----- STEP 2: SEARCH TEST ---------------------------------------------------
[09:30:03.223] [--] Found 2 relevant documents
[09:30:03.225] [..]   [1] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[09:30:03.226] [..]   [2] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[09:30:03.227] [OK] Qdrant ingest & search PASSED
[09:30:03.231] [--] 
[09:30:03.232] [--] ################################################################################
[09:30:03.234] [--] #                        TEST 11: MINIO FILE OPERATIONS                        #
[09:30:03.235] [--] ################################################################################
[09:30:03.236] [--] 
[09:30:03.237] [--] 
----- STEP 1: UPLOAD TEST FILE ----------------------------------------------
[09:30:03.244] [--] Uploaded: test_user_minio/20251228_093003_cef0b378.txt
[09:30:03.245] [--] Size: 51 bytes
[09:30:03.246] [--] 
----- STEP 2: DOWNLOAD TEST -------------------------------------------------
[09:30:03.249] [OK] MinIO file operations PASSED
[09:30:03.253] [--] 
[09:30:03.254] [--] ################################################################################
[09:30:03.256] [--] #                       TEST 12: USER PROFILE OPERATIONS                       #
[09:30:03.257] [--] ################################################################################
[09:30:03.259] [--] 
[09:30:04.443] [--] 
----- CREATE PROFILE --------------------------------------------------------
[09:30:04.719] [--] Created profile for live_test_user_1766914204
[09:30:04.721] [--] 
----- READ PROFILE ----------------------------------------------------------
[09:30:04.745] [--] Retrieved: N/A
[09:30:04.754] [--] 
[09:30:04.756] [--] ################################################################################
[09:30:04.757] [--] #                       TEST 13: CHAT HISTORY OPERATIONS                       #
[09:30:04.759] [--] ################################################################################
[09:30:04.761] [--] 
[09:30:04.780] [--] 
----- SAVE MESSAGES ---------------------------------------------------------
[09:30:04.792] [--] 
[09:30:04.794] [--] ################################################################################
[09:30:04.796] [--] #                      TEST 14: GLOBAL WISDOM OPERATIONS                       #
[09:30:04.797] [--] ################################################################################
[09:30:04.799] [--] 
[09:30:04.812] [--] 
----- INDEX WISDOM ----------------------------------------------------------
[09:30:04.822] [--] 
[09:30:04.824] [--] ################################################################################
[09:30:04.825] [--] #                         TEST 15: EXPERIENCE GALLERY                          #
[09:30:04.827] [--] ################################################################################
[09:30:04.828] [--] 
[09:30:04.843] [--] 
----- ADD EXPERIENCE --------------------------------------------------------
[09:30:04.854] [--] 
[09:30:04.856] [--] ################################################################################
[09:30:04.857] [--] #                       TEST 16: SCAM DETECTION SCENARIO                       #
[09:30:04.858] [--] ################################################################################
[09:30:04.859] [--] 
[09:30:04.861] [--] Testing scam job posting...
[09:30:11.587] [--] Response preview: ...
[09:30:11.589] [??] ⚠️ Response may not have clear warnings
[09:30:11.591] [OK] Scam detection scenario PASSED
[09:30:11.596] [--] 
[09:30:11.597] [--] ################################################################################
[09:30:11.598] [--] #                      TEST 17: CONTRACT ANALYSIS QUALITY                      #
[09:30:11.600] [--] ################################################################################
[09:30:11.602] [--] 
[09:30:11.603] [--] Testing contract with unfair clauses...
[09:30:29.464] [--] 
[09:30:29.465] [--] ################################################################################
[09:30:29.466] [--] #                        TEST 18: SCOPE CREEP DETECTION                        #
[09:30:29.467] [--] ################################################################################
[09:30:29.469] [--] 
[09:30:29.471] [--] Testing scope creep scenario...
[09:30:42.352] [--] 
[09:30:42.354] [--] ################################################################################
[09:30:42.355] [--] #                         TEST 19: GHOSTING PREVENTION                         #
[09:30:42.357] [--] ################################################################################
[09:30:42.358] [--] 
[09:30:42.359] [--] Testing ghosting prevention scenario...
[09:30:58.614] [--] 
[09:30:58.616] [--] ################################################################################
[09:30:58.618] [--] #                  TEST 20: CONTRACT NEGOTIATION WITH MEMORY                   #
[09:30:58.619] [--] ################################################################################
[09:30:58.620] [--] 
[09:30:58.621] [--] 
----- NEGOTIATION REQUEST ---------------------------------------------------
[09:31:18.382] [--] 
[09:31:18.383] [--] ################################################################################
[09:31:18.385] [--] #                         TEST 21: END-TO-END WORKFLOW                         #
[09:31:18.386] [--] ################################################################################
[09:31:18.387] [--] 
[09:31:18.388] [--] Running full workflow...
[09:31:31.661] [--] 
[09:31:31.663] [--] ################################################################################
[09:31:31.665] [--] #                     TEST 22: COPILOTKIT API INTEGRATION                      #
[09:31:31.666] [--] ################################################################################
[09:31:31.667] [--] 
[09:31:31.702] [--] API Version: 7.0.0
[09:31:31.704] [--] Architecture: LangGraph + CopilotKit + Qdrant + PostgreSQL
[09:31:31.706] [--] Agents: 14
[09:31:31.708] [--] CopilotKit endpoint: /copilotkit
[09:31:31.710] [OK] CopilotKit integration PASSED
