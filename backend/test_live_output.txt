================================================================================
  FLAGPILOT LIVE INTEGRATION TEST - v7.0 (Qdrant + MinIO)
  Started: 2025-12-28T11:18:04.242359
================================================================================


================================================================================
  TEST SUITE COMPLETED: 2025-12-28T11:18:04.244617
================================================================================
[11:18:04.261] [--] 
[11:18:04.262] [--] ################################################################################
[11:18:04.263] [--] #                          TEST 1: ENVIRONMENT CHECK                           #
[11:18:04.264] [--] ################################################################################
[11:18:04.265] [--] 
[11:18:04.302] [--] OpenRouter Model: kwaipilot/kat-coder-pro:free
[11:18:04.304] [--] OpenRouter Base URL: https://openrouter.ai/api/v1
[11:18:04.305] [--] Qdrant: qdrant:6333
[11:18:04.306] [--] MinIO: minio:9000
[11:18:04.308] [--] ES: es01:9200
[11:18:04.309] [--]   openrouter_api_key: ‚úÖ SET
[11:18:04.310] [--]   openrouter_model: ‚úÖ SET
[11:18:04.311] [--]   openrouter_base_url: ‚úÖ SET
[11:18:04.312] [--]   qdrant_host: ‚úÖ SET
[11:18:04.313] [--]   qdrant_port: ‚úÖ SET
[11:18:04.315] [--]   minio_endpoint: ‚úÖ SET
[11:18:04.316] [--]   es_host: ‚úÖ SET
[11:18:04.317] [--]   es_port: ‚úÖ SET
[11:18:04.318] [??] LangSmith: Not configured
[11:18:04.319] [OK] Environment check PASSED
[11:18:04.324] [--] 
[11:18:04.325] [--] ################################################################################
[11:18:04.326] [--] #                         TEST 2: QDRANT HEALTH CHECK                          #
[11:18:04.327] [--] ################################################################################
[11:18:04.329] [--] 
[11:18:05.869] [--] Checking Qdrant health...
[11:18:07.772] [..] Qdrant Status:
[11:18:07.774] [..]   {
[11:18:07.777] [..]     "status": "healthy",
[11:18:07.779] [..]     "connected": true,
[11:18:07.781] [..]     "collection": "flagpilot_documents",
[11:18:07.782] [..]     "vectors_count": 0
[11:18:07.784] [..]   }
[11:18:07.785] [OK] Qdrant health check PASSED
[11:18:07.788] [--] 
[11:18:07.790] [--] ################################################################################
[11:18:07.791] [--] #                      TEST 3: LANGCHAIN LLM HEALTH CHECK                      #
[11:18:07.792] [--] ################################################################################
[11:18:07.793] [--] 
[11:18:07.846] [--] Model: kwaipilot/kat-coder-pro:free
[11:18:07.849] [--] Sending test prompt...
[11:18:10.038] [--] Response: Hello! I'm working and ready to help you....
[11:18:10.039] [--] Latency: 2.19s
[11:18:10.041] [OK] LangChain LLM health check PASSED
[11:18:10.046] [--] 
[11:18:10.048] [--] ################################################################################
[11:18:10.050] [--] #                      TEST 4: ELASTICSEARCH HEALTH CHECK                      #
[11:18:10.052] [--] ################################################################################
[11:18:10.053] [--] 
[11:18:10.342] [--] ES Version: 9.2.3
[11:18:10.344] [--] Cluster: flagpilot-cluster
[11:18:10.346] [OK] Elasticsearch health check PASSED
[11:18:10.353] [--] 
[11:18:10.354] [--] ################################################################################
[11:18:10.356] [--] #                          TEST 5: LANGSMITH TRACING                           #
[11:18:10.357] [--] ################################################################################
[11:18:10.358] [--] 
[11:18:10.360] [--] LangSmith not configured - tracing disabled (OK for local dev)
[11:18:10.361] [OK] LangSmith tracing check PASSED
[11:18:10.365] [--] 
[11:18:10.367] [--] ################################################################################
[11:18:10.369] [--] #                      TEST 6: MINIO STORAGE HEALTH CHECK                      #
[11:18:10.370] [--] ################################################################################
[11:18:10.372] [--] 
[11:18:10.504] [--] Checking MinIO health...
[11:18:10.515] [--] MinIO connected, 6 files in bucket
[11:18:10.516] [OK] MinIO health check PASSED
[11:18:10.520] [--] 
[11:18:10.521] [--] ################################################################################
[11:18:10.522] [--] #                            TEST 7: AGENT REGISTRY                            #
[11:18:10.523] [--] ################################################################################
[11:18:10.525] [--] 
[11:18:10.836] [--] Registered Agents: 10
[11:18:10.838] [OK]   ‚úÖ contract-guardian
[11:18:10.840] [OK]   ‚úÖ job-authenticator
[11:18:10.841] [OK]   ‚úÖ scope-sentinel
[11:18:10.842] [OK]   ‚úÖ payment-enforcer
[11:18:10.843] [OK]   ‚úÖ dispute-mediator
[11:18:10.844] [OK]   ‚úÖ communication-coach
[11:18:10.845] [OK]   ‚úÖ negotiation-assistant
[11:18:10.846] [OK]   ‚úÖ profile-analyzer
[11:18:10.847] [OK]   ‚úÖ ghosting-shield
[11:18:10.848] [OK]   ‚úÖ risk-advisor
[11:18:10.849] [OK] Agent registry check PASSED
[11:18:10.853] [--] 
[11:18:10.854] [--] ################################################################################
[11:18:10.856] [--] #                       TEST 8: FAST-FAIL SCAM DETECTION                       #
[11:18:10.857] [--] ################################################################################
[11:18:10.858] [--] 
[11:18:10.859] [--] Testing message: Congratulations! You've won $50,000! Send $500 to ...
[11:18:13.488] [--] Agents selected: ['risk-advisor']
[11:18:13.491] [--] Urgency: high
[11:18:13.493] [--] Reasoning: This is a classic advance fee scam - user is being asked to pay money to receive a non-existent priz...
[11:18:13.495] [OK] ‚úÖ Scam correctly routed to risk detection
[11:18:13.497] [OK] Fast-fail scam detection PASSED
[11:18:13.502] [--] 
[11:18:13.504] [--] ################################################################################
[11:18:13.505] [--] #                         TEST 9: ORCHESTRATOR ROUTING                         #
[11:18:13.506] [--] ################################################################################
[11:18:13.507] [--] 
[11:18:13.508] [--] 
----- Query: Please review my freelance contract for ... --------------------
[11:18:16.122] [--] Selected: ['contract-guardian']
[11:18:16.123] [--] Reasoning: User needs contract review for red flags - this is...
[11:18:16.125] [OK] ‚úÖ Correct routing
[11:18:16.126] [--] 
----- Query: Is this job posting a scam?... ---------------------------------
[11:18:17.823] [--] Selected: ['job-authenticator', 'risk-advisor']
[11:18:17.825] [--] Reasoning: Job posting verification and scam detection are ne...
[11:18:17.827] [OK] ‚úÖ Correct routing
[11:18:17.829] [--] 
----- Query: Client keeps adding extra features witho... --------------------
[11:18:20.014] [--] Selected: ['scope-sentinel', 'payment-enforcer', 'negotiation-assistant']
[11:18:20.015] [--] Reasoning: Scope creep detection needed to identify unauthori...
[11:18:20.017] [OK] ‚úÖ Correct routing
[11:18:20.019] [--] 
----- Query: Help me negotiate a better rate... -----------------------------
[11:18:21.672] [--] Selected: ['negotiation-assistant']
[11:18:21.675] [--] Reasoning: Direct match for rate negotiation assistance...
[11:18:21.677] [OK] ‚úÖ Correct routing
[11:18:21.679] [--] Routing Score: 4/4
[11:18:21.681] [OK] Orchestrator routing validated
[11:18:21.687] [--] 
[11:18:21.688] [--] ################################################################################
[11:18:21.690] [--] #                       TEST 10: QDRANT INGEST & SEARCH                        #
[11:18:21.691] [--] ################################################################################
[11:18:21.693] [--] 
[11:18:21.722] [--] 
----- STEP 1: INGEST TEST DOCUMENT ------------------------------------------
[11:18:22.648] [--] Ingested 1 chunks
[11:18:22.649] [--] 
----- STEP 2: SEARCH TEST ---------------------------------------------------
[11:18:23.169] [--] Found 3 relevant documents
[11:18:23.171] [..]   [1] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[11:18:23.172] [..]   [2] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[11:18:23.173] [..]   [3] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[11:18:23.174] [OK] Qdrant ingest & search PASSED
[11:18:23.178] [--] 
[11:18:23.179] [--] ################################################################################
[11:18:23.181] [--] #                        TEST 11: MINIO FILE OPERATIONS                        #
[11:18:23.182] [--] ################################################################################
[11:18:23.183] [--] 
[11:18:23.184] [--] 
----- STEP 1: UPLOAD TEST FILE ----------------------------------------------
[11:18:23.192] [--] Uploaded: test_user_minio/20251228_111823_dc016aa3.txt
[11:18:23.194] [--] Size: 51 bytes
[11:18:23.195] [--] 
----- STEP 2: DOWNLOAD TEST -------------------------------------------------
[11:18:23.199] [OK] MinIO file operations PASSED
[11:18:23.202] [--] 
[11:18:23.204] [--] ################################################################################
[11:18:23.205] [--] #                       TEST 12: USER PROFILE OPERATIONS                       #
[11:18:23.206] [--] ################################################################################
[11:18:23.207] [--] 
[11:18:23.243] [--] 
----- CREATE PROFILE --------------------------------------------------------
[11:18:23.572] [--] Created profile for live_test_user_1766920703
[11:18:24.588] [--] 
----- READ PROFILE ----------------------------------------------------------
[11:18:24.622] [--] Retrieved: Test Freelancer with Python, AI/ML, and LangChain ...
[11:18:24.623] [OK] User profile operations PASSED
[11:18:24.628] [--] 
[11:18:24.630] [--] ################################################################################
[11:18:24.631] [--] #                       TEST 13: CHAT HISTORY OPERATIONS                       #
[11:18:24.633] [--] ################################################################################
[11:18:24.634] [--] 
[11:18:24.649] [--] 
----- SAVE MESSAGES ---------------------------------------------------------
[11:18:24.692] [--] Saved 2 messages
[11:18:25.702] [--] 
----- RETRIEVE HISTORY ------------------------------------------------------
[11:18:25.819] [--] Retrieved 2 messages
[11:18:25.821] [OK] Chat history operations PASSED
[11:18:25.826] [--] 
[11:18:25.827] [--] ################################################################################
[11:18:25.828] [--] #                      TEST 14: GLOBAL WISDOM OPERATIONS                       #
[11:18:25.829] [--] ################################################################################
[11:18:25.830] [--] 
[11:18:25.844] [--] 
----- INDEX WISDOM ----------------------------------------------------------
[11:18:25.871] [--] Indexed: Handling Scope Creep
[11:18:26.878] [--] 
----- SEARCH WISDOM ---------------------------------------------------------
[11:18:26.901] [--] Found 4 wisdom entries
[11:18:26.904] [OK] Global wisdom operations PASSED
[11:18:26.910] [--] 
[11:18:26.913] [--] ################################################################################
[11:18:26.915] [--] #                         TEST 15: EXPERIENCE GALLERY                          #
[11:18:26.916] [--] ################################################################################
[11:18:26.918] [--] 
[11:18:26.930] [--] 
----- ADD EXPERIENCE --------------------------------------------------------
[11:18:27.008] [--] Added experience: AI Integration Project
[11:18:28.026] [--] Found 4 similar experiences
[11:18:28.028] [OK] Experience gallery PASSED
[11:18:28.033] [--] 
[11:18:28.035] [--] ################################################################################
[11:18:28.036] [--] #                       TEST 16: SCAM DETECTION SCENARIO                       #
[11:18:28.037] [--] ################################################################################
[11:18:28.039] [--] 
[11:18:28.040] [--] Testing scam job posting...
[11:18:36.992] [--] Response preview: # üö® CRITICAL RISK DETECTED

## Risk Advisor

## üö® CRITICAL RISK ALERT

### What We Detected
This is a **high-confidence scam** (85% risk) involving an upfront fee request for a fake work-from-home opp...
[11:18:36.994] [OK] ‚úÖ Scam indicators detected
[11:18:36.995] [OK] Scam detection scenario PASSED
[11:18:37.001] [--] 
[11:18:37.002] [--] ################################################################################
[11:18:37.003] [--] #                      TEST 17: CONTRACT ANALYSIS QUALITY                      #
[11:18:37.004] [--] ################################################################################
[11:18:37.006] [--] 
[11:18:37.007] [--] Testing contract with unfair clauses...
[11:18:55.921] [--] Response preview: # üö® CRITICAL RISK DETECTED

## Contract Guardian

## üîç Contract Analysis

### Risk Summary
The clause creates disproportionate risk for the contractor with unilateral termination rights and forfeiture of unpaid work.

### Findings
| Clause | Risk Level | Issue | Recommendation |
|--------|----------...
[11:18:55.924] [OK] ‚úÖ Contract issues identified
[11:18:55.926] [OK] Contract analysis PASSED
[11:18:55.932] [--] 
[11:18:55.934] [--] ################################################################################
[11:18:55.936] [--] #                        TEST 18: SCOPE CREEP DETECTION                        #
[11:18:55.937] [--] ################################################################################
[11:18:55.939] [--] 
[11:18:55.940] [--] Testing scope creep scenario...
[11:19:29.876] [--] Response preview: # üõ°Ô∏è Scope Creep Response Strategy

## Key Findings Summary

You're facing **severe scope creep** - the client wants to transform a $500 landing page into a $15,000+ enterprise platform. The requested features represent a **1,500% scope increase** requiring 300+ additional hours of specialized devel...
[11:19:29.878] [OK] ‚úÖ Scope creep addressed
[11:19:29.880] [OK] Scope creep detection PASSED
[11:19:29.885] [--] 
[11:19:29.887] [--] ################################################################################
[11:19:29.888] [--] #                         TEST 19: GHOSTING PREVENTION                         #
[11:19:29.889] [--] ################################################################################
[11:19:29.890] [--] 
[11:19:29.891] [--] Testing ghosting prevention scenario...
[11:20:12.689] [--] Response preview: # Client Non-Response Recovery Strategy

## Summary
Your client has been unresponsive for 14 days regarding a second milestone payment for an 80% completed project. This situation requires immediate action to protect your interests while maintaining professionalism.

## Key Findings
- **Payment Stat...
[11:20:12.694] [OK] ‚úÖ Ghosting advice provided
[11:20:12.696] [OK] Ghosting prevention PASSED
[11:20:12.701] [--] 
[11:20:12.703] [--] ################################################################################
[11:20:12.705] [--] #                  TEST 20: CONTRACT NEGOTIATION WITH MEMORY                   #
[11:20:12.709] [--] ################################################################################
[11:20:12.710] [--] 
[11:20:12.711] [--] 
----- NEGOTIATION REQUEST ---------------------------------------------------
[11:20:48.918] [--] Response preview: # üí∞ Negotiation Response

## Key Findings

The client's $50/hour offer is **significantly below market** (17% under market low), while your $150/hour rate is at the premium end. This creates a substantial gap that requires strategic negotiation.

## Recommended Actions

1. **Prepare your counter-off...
[11:20:48.920] [OK] ‚úÖ Negotiation strategy provided
[11:20:48.923] [OK] Contract negotiation PASSED
[11:20:48.929] [--] 
[11:20:48.931] [--] ################################################################################
[11:20:48.934] [--] #                         TEST 21: END-TO-END WORKFLOW                         #
[11:20:48.936] [--] ################################################################################
[11:20:48.938] [--] 
[11:20:48.940] [--] Running full workflow...
[11:21:23.099] [--] Workflow completed in 34.16s
[11:21:23.102] [--] Response length: 1271 chars
[11:21:23.105] [--] Agents used: []
[11:21:23.107] [OK] End-to-end workflow PASSED
[11:21:23.112] [--] 
[11:21:23.114] [--] ################################################################################
[11:21:23.116] [--] #                     TEST 22: COPILOTKIT API INTEGRATION                      #
[11:21:23.117] [--] ################################################################################
[11:21:23.119] [--] 
[11:21:23.156] [--] API Version: 7.0.0
[11:21:23.158] [--] Architecture: LangGraph + CopilotKit + Qdrant + PostgreSQL
[11:21:23.160] [--] Agents: 14
[11:21:23.161] [--] CopilotKit endpoint: /copilotkit
[11:21:23.163] [OK] CopilotKit integration PASSED
