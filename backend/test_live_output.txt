================================================================================
  FLAGPILOT LIVE INTEGRATION TEST - v7.0 (Qdrant + MinIO)
  Started: 2025-12-28T09:40:47.373969
================================================================================


================================================================================
  TEST SUITE COMPLETED: 2025-12-28T09:40:47.376666
================================================================================
[09:40:47.393] [--] 
[09:40:47.394] [--] ################################################################################
[09:40:47.395] [--] #                          TEST 1: ENVIRONMENT CHECK                           #
[09:40:47.396] [--] ################################################################################
[09:40:47.398] [--] 
[09:40:47.443] [--] OpenRouter Model: kwaipilot/kat-coder-pro:free
[09:40:47.445] [--] OpenRouter Base URL: https://openrouter.ai/api/v1
[09:40:47.446] [--] Qdrant: qdrant:6333
[09:40:47.448] [--] MinIO: minio:9000
[09:40:47.449] [--] ES: es01:9200
[09:40:47.451] [--]   openrouter_api_key: âœ… SET
[09:40:47.452] [--]   openrouter_model: âœ… SET
[09:40:47.453] [--]   openrouter_base_url: âœ… SET
[09:40:47.454] [--]   qdrant_host: âœ… SET
[09:40:47.456] [--]   qdrant_port: âœ… SET
[09:40:47.457] [--]   minio_endpoint: âœ… SET
[09:40:47.459] [--]   es_host: âœ… SET
[09:40:47.460] [--]   es_port: âœ… SET
[09:40:47.462] [??] LangSmith: Not configured
[09:40:47.463] [OK] Environment check PASSED
[09:40:47.469] [--] 
[09:40:47.471] [--] ################################################################################
[09:40:47.473] [--] #                         TEST 2: QDRANT HEALTH CHECK                          #
[09:40:47.474] [--] ################################################################################
[09:40:47.476] [--] 
[09:40:49.048] [--] Checking Qdrant health...
[09:40:51.169] [..] Qdrant Status:
[09:40:51.171] [..]   {
[09:40:51.174] [..]     "status": "healthy",
[09:40:51.175] [..]     "connected": true,
[09:40:51.177] [..]     "collection": null,
[09:40:51.178] [..]     "vectors_count": 0
[09:40:51.179] [..]   }
[09:40:51.181] [OK] Qdrant health check PASSED
[09:40:51.187] [--] 
[09:40:51.189] [--] ################################################################################
[09:40:51.190] [--] #                      TEST 3: LANGCHAIN LLM HEALTH CHECK                      #
[09:40:51.192] [--] ################################################################################
[09:40:51.194] [--] 
[09:40:51.260] [--] Model: kwaipilot/kat-coder-pro:free
[09:40:51.262] [--] Sending test prompt...
[09:40:53.143] [--] Response: Hello! I'm working and ready to help you....
[09:40:53.145] [--] Latency: 1.88s
[09:40:53.148] [OK] LangChain LLM health check PASSED
[09:40:53.155] [--] 
[09:40:53.157] [--] ################################################################################
[09:40:53.160] [--] #                      TEST 4: ELASTICSEARCH HEALTH CHECK                      #
[09:40:53.162] [--] ################################################################################
[09:40:53.164] [--] 
[09:40:53.475] [--] ES Version: 9.2.3
[09:40:53.477] [--] Cluster: flagpilot-cluster
[09:40:53.479] [OK] Elasticsearch health check PASSED
[09:40:53.483] [--] 
[09:40:53.485] [--] ################################################################################
[09:40:53.486] [--] #                          TEST 5: LANGSMITH TRACING                           #
[09:40:53.487] [--] ################################################################################
[09:40:53.489] [--] 
[09:40:53.490] [??] LangSmith not configured - tracing disabled
[09:40:53.494] [--] 
[09:40:53.496] [--] ################################################################################
[09:40:53.497] [--] #                      TEST 6: MINIO STORAGE HEALTH CHECK                      #
[09:40:53.498] [--] ################################################################################
[09:40:53.499] [--] 
[09:40:53.637] [--] Checking MinIO health...
[09:40:53.647] [--] MinIO connected, 2 files in bucket
[09:40:53.649] [OK] MinIO health check PASSED
[09:40:53.656] [--] 
[09:40:53.658] [--] ################################################################################
[09:40:53.660] [--] #                            TEST 7: AGENT REGISTRY                            #
[09:40:53.662] [--] ################################################################################
[09:40:53.664] [--] 
[09:40:53.924] [--] Registered Agents: 10
[09:40:53.925] [OK]   âœ… contract-guardian
[09:40:53.926] [OK]   âœ… job-authenticator
[09:40:53.927] [OK]   âœ… scope-sentinel
[09:40:53.928] [OK]   âœ… payment-enforcer
[09:40:53.929] [OK]   âœ… dispute-mediator
[09:40:53.930] [OK]   âœ… communication-coach
[09:40:53.932] [OK]   âœ… negotiation-assistant
[09:40:53.933] [OK]   âœ… profile-analyzer
[09:40:53.934] [OK]   âœ… ghosting-shield
[09:40:53.935] [OK]   âœ… risk-advisor
[09:40:53.936] [OK] Agent registry check PASSED
[09:40:53.941] [--] 
[09:40:53.942] [--] ################################################################################
[09:40:53.944] [--] #                       TEST 8: FAST-FAIL SCAM DETECTION                       #
[09:40:53.945] [--] ################################################################################
[09:40:53.947] [--] 
[09:40:53.948] [--] Testing message: Congratulations! You've won $50,000! Send $500 to ...
[09:41:02.484] [--] Agents selected: ['risk-advisor']
[09:41:02.486] [--] Urgency: high
[09:41:02.488] [--] Reasoning: This is a classic advance-fee scam. The user needs immediate scam detection and risk assessment....
[09:41:02.490] [OK] âœ… Scam correctly routed to risk detection
[09:41:02.492] [OK] Fast-fail scam detection PASSED
[09:41:02.497] [--] 
[09:41:02.498] [--] ################################################################################
[09:41:02.499] [--] #                         TEST 9: ORCHESTRATOR ROUTING                         #
[09:41:02.500] [--] ################################################################################
[09:41:02.501] [--] 
[09:41:02.503] [--] 
----- Query: Please review my freelance contract for ... --------------------
[09:41:11.544] [--] Selected: ['contract-guardian']
[09:41:11.546] [--] Reasoning: Contract review for red flags is the primary funct...
[09:41:11.549] [OK] âœ… Correct routing
[09:41:11.550] [--] 
----- Query: Is this job posting a scam?... ---------------------------------
[09:41:13.435] [--] Selected: ['job-authenticator', 'risk-advisor']
[09:41:13.437] [--] Reasoning: Job posting verification and scam detection are ne...
[09:41:13.439] [OK] âœ… Correct routing
[09:41:13.441] [--] 
----- Query: Client keeps adding extra features witho... --------------------
[09:41:15.536] [--] Selected: ['scope-sentinel', 'payment-enforcer', 'negotiation-assistant']
[09:41:15.538] [--] Reasoning: Scope creep detection needed to identify unauthori...
[09:41:15.540] [OK] âœ… Correct routing
[09:41:15.542] [--] 
----- Query: Help me negotiate a better rate... -----------------------------
[09:41:17.826] [--] Selected: ['negotiation-assistant']
[09:41:17.829] [--] Reasoning: User needs help negotiating a better rate...
[09:41:17.831] [OK] âœ… Correct routing
[09:41:17.833] [--] Routing Score: 4/4
[09:41:17.834] [OK] Orchestrator routing validated
[09:41:17.841] [--] 
[09:41:17.843] [--] ################################################################################
[09:41:17.845] [--] #                       TEST 10: QDRANT INGEST & SEARCH                        #
[09:41:17.847] [--] ################################################################################
[09:41:17.849] [--] 
[09:41:17.881] [--] 
----- STEP 1: INGEST TEST DOCUMENT ------------------------------------------
[09:41:18.774] [--] Ingested 1 chunks
[09:41:18.777] [--] 
----- STEP 2: SEARCH TEST ---------------------------------------------------
[09:41:19.324] [--] Found 3 relevant documents
[09:41:19.327] [..]   [1] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[09:41:19.329] [..]   [2] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[09:41:19.331] [..]   [3] FREELANCE CONTRACT BEST PRACTICES
        
        This document outlines key terms for freelance co...
[09:41:19.333] [OK] Qdrant ingest & search PASSED
[09:41:19.339] [--] 
[09:41:19.342] [--] ################################################################################
[09:41:19.344] [--] #                        TEST 11: MINIO FILE OPERATIONS                        #
[09:41:19.346] [--] ################################################################################
[09:41:19.348] [--] 
[09:41:19.349] [--] 
----- STEP 1: UPLOAD TEST FILE ----------------------------------------------
[09:41:19.359] [--] Uploaded: test_user_minio/20251228_094119_9af09249.txt
[09:41:19.361] [--] Size: 51 bytes
[09:41:19.365] [--] 
----- STEP 2: DOWNLOAD TEST -------------------------------------------------
[09:41:19.369] [OK] MinIO file operations PASSED
[09:41:19.375] [--] 
[09:41:19.377] [--] ################################################################################
[09:41:19.379] [--] #                       TEST 12: USER PROFILE OPERATIONS                       #
[09:41:19.380] [--] ################################################################################
[09:41:19.382] [--] 
[09:41:19.421] [--] 
----- CREATE PROFILE --------------------------------------------------------
[09:41:19.615] [--] Created profile for live_test_user_1766914879
[09:41:19.618] [--] 
----- READ PROFILE ----------------------------------------------------------
[09:41:19.642] [--] Retrieved: N/A
[09:41:19.650] [--] 
[09:41:19.652] [--] ################################################################################
[09:41:19.654] [--] #                       TEST 13: CHAT HISTORY OPERATIONS                       #
[09:41:19.655] [--] ################################################################################
[09:41:19.656] [--] 
[09:41:19.670] [--] 
----- SAVE MESSAGES ---------------------------------------------------------
[09:41:19.678] [--] 
[09:41:19.680] [--] ################################################################################
[09:41:19.681] [--] #                      TEST 14: GLOBAL WISDOM OPERATIONS                       #
[09:41:19.682] [--] ################################################################################
[09:41:19.684] [--] 
[09:41:19.696] [--] 
----- INDEX WISDOM ----------------------------------------------------------
[09:41:19.704] [--] 
[09:41:19.706] [--] ################################################################################
[09:41:19.707] [--] #                         TEST 15: EXPERIENCE GALLERY                          #
[09:41:19.708] [--] ################################################################################
[09:41:19.710] [--] 
[09:41:19.721] [--] 
----- ADD EXPERIENCE --------------------------------------------------------
[09:41:19.730] [--] 
[09:41:19.732] [--] ################################################################################
[09:41:19.734] [--] #                       TEST 16: SCAM DETECTION SCENARIO                       #
[09:41:19.735] [--] ################################################################################
[09:41:19.736] [--] 
[09:41:19.737] [--] Testing scam job posting...
[09:41:24.855] [--] Response preview: # ðŸš¨ CRITICAL RISK DETECTED

## Risk Advisor

## ðŸš¨ CRITICAL RISK ALERT

### What We Detected
**Advance-fee scam** - Fraudulent "work from home" scheme requesting upfront payment

### Why This Is Danger...
[09:41:24.857] [OK] âœ… Scam indicators detected
[09:41:24.858] [OK] Scam detection scenario PASSED
[09:41:24.863] [--] 
[09:41:24.865] [--] ################################################################################
[09:41:24.867] [--] #                      TEST 17: CONTRACT ANALYSIS QUALITY                      #
[09:41:24.868] [--] ################################################################################
[09:41:24.869] [--] 
[09:41:24.871] [--] Testing contract with unfair clauses...
[09:41:53.634] [--] Response preview: # Contract Review: Termination Clause Analysis

## ðŸš¨ CRITICAL FINDINGS

This termination clause contains **extremely predatory terms** that create severe financial and legal risks for the Contractor. Multiple provisions are likely unenforceable in most jurisdictions.

### Key Issues Identified:

| I...
[09:41:53.637] [OK] âœ… Contract issues identified
[09:41:53.639] [OK] Contract analysis PASSED
[09:41:53.645] [--] 
[09:41:53.646] [--] ################################################################################
[09:41:53.647] [--] #                        TEST 18: SCOPE CREEP DETECTION                        #
[09:41:53.649] [--] ################################################################################
[09:41:53.650] [--] 
[09:41:53.651] [--] Testing scope creep scenario...
[09:42:26.258] [--] Response preview: # ðŸš¨ Scope Creep Response Strategy

## Key Findings Summary

**Critical Issue**: Client is attempting to expand a $500 landing page project into a full e-commerce platform with mobile app integration, CRM connections, and analytics dashboards - representing **$16,450 in unpaid scope creep**.

**Risk ...
[09:42:26.261] [OK] âœ… Scope creep addressed
[09:42:26.263] [OK] Scope creep detection PASSED
[09:42:26.268] [--] 
[09:42:26.270] [--] ################################################################################
[09:42:26.272] [--] #                         TEST 19: GHOSTING PREVENTION                         #
[09:42:26.274] [--] ################################################################################
[09:42:26.275] [--] 
[09:42:26.276] [--] Testing ghosting prevention scenario...
[09:42:55.947] [--] Response preview: # Client Non-Response Recovery Plan

## Summary
Your client has been unresponsive for 14 days while you have an outstanding second milestone payment for an 80% complete project. This situation requires immediate action to protect your cash flow and establish clear boundaries.

## Key Findings
- **St...
[09:42:55.949] [OK] âœ… Ghosting advice provided
[09:42:55.952] [OK] Ghosting prevention PASSED
[09:42:55.960] [--] 
[09:42:55.962] [--] ################################################################################
[09:42:55.965] [--] #                  TEST 20: CONTRACT NEGOTIATION WITH MEMORY                   #
[09:42:55.968] [--] ################################################################################
[09:42:55.969] [--] 
[09:42:55.972] [--] 
----- NEGOTIATION REQUEST ---------------------------------------------------
[09:43:17.779] [--] Response preview: # Negotiation Strategy for $50/hr Python/AI Project Offer

## Key Findings

- **Significant Rate Gap**: The client's offer of $50/hr is 67% below your standard rate of $150/hr and well below market rates ($100-$150/hr)
- **Value Opportunity**: Your Python/AI expertise can deliver 30-40% faster proje...
[09:43:17.781] [OK] âœ… Negotiation strategy provided
[09:43:17.783] [OK] Contract negotiation PASSED
[09:43:17.790] [--] 
[09:43:17.792] [--] ################################################################################
[09:43:17.794] [--] #                         TEST 21: END-TO-END WORKFLOW                         #
[09:43:17.796] [--] ################################################################################
[09:43:17.797] [--] 
[09:43:17.798] [--] Running full workflow...
[09:43:53.327] [--] Workflow completed in 35.53s
[09:43:53.329] [--] Response length: 2361 chars
[09:43:53.331] [--] Agents used: []
[09:43:53.332] [OK] End-to-end workflow PASSED
[09:43:53.336] [--] 
[09:43:53.338] [--] ################################################################################
[09:43:53.339] [--] #                     TEST 22: COPILOTKIT API INTEGRATION                      #
[09:43:53.340] [--] ################################################################################
[09:43:53.341] [--] 
[09:43:53.382] [--] API Version: 7.0.0
[09:43:53.384] [--] Architecture: LangGraph + CopilotKit + Qdrant + PostgreSQL
[09:43:53.385] [--] Agents: 14
[09:43:53.387] [--] CopilotKit endpoint: /copilotkit
[09:43:53.388] [OK] CopilotKit integration PASSED
