============================= test session starts ==============================
platform linux -- Python 3.11.14, pytest-8.4.2, pluggy-1.6.0
rootdir: /app
plugins: asyncio-1.1.1, anyio-4.12.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 2 items

tests/metagpt/test_context.py .F                                         [100%]

=================================== FAILURES ===================================
______________________ test_team_environment_propagation _______________________

mock_user = UserData(id='test_user_id', email='test@flagpilot.io', name='Test User', role='admin')

    @pytest.mark.asyncio
    async def test_team_environment_propagation(mock_user):
        """
        Test that FlagPilotTeam propagates context (user_id) to agents via Environment.
        """
        # 1. Initialize Team
>       team = FlagPilotTeam(
            environment_desc="Test Env",
            investment=10.0,
            idea="Test Idea",
            user_id=mock_user.id
        )
E       TypeError: FlagPilotTeam.__init__() got an unexpected keyword argument 'environment_desc'

tests/metagpt/test_context.py:36: TypeError
=============================== warnings summary ===============================
../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:272
../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:272
  /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:272: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.6/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/metagpt/test_context.py::test_team_environment_propagation - Typ...
=================== 1 failed, 1 passed, 2 warnings in 1.97s ====================
